{"version":3,"sources":["webpack:///./select/select.js","webpack:///./index.js"],"names":["Select","selector","options","startID","this","selectRef","document","querySelector","console","log","selectedID","_render","_setup","valueRef","handlerEvent","bind","addEventListener","event","type","target","dataset","toggle","id","select","close","isOpen","open","placeholder","data","classList","add","innerHTML","textPlaceholder","classSelItem","items","map","item","value","join","template","remove","delete","removeEventListener","selectItem","currentItem","textContent","elRef","contains","find"],"mappings":"yUACA,IA0BaA,EAAb,WAEI,WAAYC,EAAUC,EAASC,GAC3BC,KAAKC,UAAYC,SAASC,cAAcN,GACxCO,QAAQC,IAAIL,KAAKC,WACjBD,KAAKF,QAAUA,EACfE,KAAKM,WAAaP,EAClBC,KAAKO,UACLP,KAAKQ,SACLR,KAAKS,SAAWP,SAASC,cAAiBN,EAA1B,wBATxB,I,MAAA,uBAYIW,OAAA,WACIR,KAAKU,aAAeV,KAAKU,aAAaC,KAAKX,MAC3CA,KAAKC,UAAUW,iBAAiB,QAASZ,KAAKU,eAdtD,EAiBIA,aAAA,SAAaG,GAAO,IACRC,EAASD,EAAME,OAAOC,QAAtBF,KAIR,GAHa,UAATA,GACAd,KAAKiB,SAEI,SAATH,EAAiB,CACjB,IAAMI,EAAKL,EAAME,OAAOC,QAAQE,GAChClB,KAAKmB,OAAOD,GAEH,aAATJ,GAEAd,KAAKoB,SA5BjB,EAwCIH,OAAA,WACIjB,KAAKqB,OAASrB,KAAKoB,QAAUpB,KAAKsB,QAzC1C,EA4CIf,QAAA,WAAU,MACiCP,KAAKF,QAApCyB,EADF,EACEA,YAAaC,EADf,EACeA,KAAMzB,EADrB,EACqBA,QAC3BC,KAAKC,UAAUwB,UAAUC,IAAI,UAC7B1B,KAAKC,UAAU0B,UAzEN,SAACH,EAAWD,EAAaxB,QAAY,IAApCyB,MAAO,IACrB,IAAII,EAAe,MAAGL,IAAe,SACjCM,EAAe,IACbC,EAAQN,EAAKO,KAAI,SAAAC,GAOnB,OANIA,EAAKd,KAAOnB,GACZ6B,EAAkBI,EAAKC,MACvBJ,EAAe,YAEfA,EAAe,IAEnB,0BAAiCA,EAAjC,+BAA4EG,EAAKd,GAAjF,KAAwFc,EAAKC,MAA7F,WAEJ,gMAGUL,EAHV,8HAQSE,EAAMI,KAAK,KARpB,oCA6D+BC,CAASX,EAAMD,EAAaxB,IA/C/D,EAkDIuB,KAAA,WACItB,KAAKC,UAAUwB,UAAUC,IAAI,SAnDrC,EAsDIN,MAAA,WACIpB,KAAKC,UAAUwB,UAAUW,OAAO,SAvDxC,EA0DIC,OAAA,WACIrC,KAAKC,UAAUqC,oBAAoB,QAAStC,KAAKU,cACjDV,KAAKC,UAAU0B,UAAY,KA5DnC,EA+DIR,OAAA,SAAOD,GACHlB,KAAKM,WAAaY,EAClB,IAAIqB,EAAavC,KAAKwC,YACtBxC,KAAKS,SAASgC,YAAcF,EAAWN,MACvC,IAAMS,EAAQ1C,KAAKC,UAAUE,cAAf,aACA,OAAVuC,GACAA,EAAMjB,UAAUW,OAAO,YAELpC,KAAKC,UAAUE,cAAf,aAA0Ce,EAA1C,MACRO,UAAUC,IAAI,YAC5B1B,KAAKoB,S,EAzEb,G,EAAA,8BAiCQ,OAAOpB,KAAKC,UAAUwB,UAAUkB,SAAS,UAjCjD,kCAoCsB,WACd,OAAO3C,KAAKF,QAAQ0B,KAAKoB,MAAK,SAAAZ,GAAI,OAAIA,EAAKd,KAAO,EAAKZ,mB,2BArC/D,KCbe,IAAIV,EAAO,iBAAkB,CACxC2B,YAAa,kBACbC,KAbS,CACT,CAAEN,GAAI,IAAKe,MAAO,SAClB,CAAEf,GAAI,IAAKe,MAAO,QAClB,CAAEf,GAAI,IAAKe,MAAO,cAClB,CAAEf,GAAI,IAAKe,MAAO,OAClB,CAAEf,GAAI,IAAKe,MAAO,QAClB,CAAEf,GAAI,IAAKe,MAAO,QAClB,CAAEf,GAAI,IAAKe,MAAO,QAClB,CAAEf,GAAI,IAAKe,MAAO,OAClB,CAAEf,GAAI,IAAKe,MAAO,SAKlBlC,QAAS,Q","file":"main.c4523b81ccee0a36f558.js","sourcesContent":["\r\nconst template = (data = [], placeholder, startID) => {\r\n    let textPlaceholder = placeholder ?? 'Выбери'; //Оператор нуллевого слияния\r\n    let classSelItem = ' ';\r\n    const items = data.map(item => {\r\n        if (item.id === startID) {\r\n            textPlaceholder = item.value;\r\n            classSelItem = \"selected\"\r\n        } else {\r\n            classSelItem = \" \"\r\n        }\r\n        return `<li class=\"select-item ${classSelItem}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>`\r\n    })\r\n    return `<div class=\"select-backdrop\" data-type=\"backdrop\"></div>\r\n           <div class=\"select-input\" data-type=\"input\">\r\n          <span class=\"select-text\" data-type=\"value\">\r\n            ${textPlaceholder}\r\n          </span>\r\n        </div>\r\n        <div class=\"select-dropdown\">\r\n          <ul class=\"select-list\">\r\n           ${items.join(' ')}\r\n          </ul>\r\n        </div>`\r\n}\r\n\r\n\r\nexport class Select {\r\n\r\n    constructor(selector, options, startID) {\r\n        this.selectRef = document.querySelector(selector);\r\n        console.log(this.selectRef)\r\n        this.options = options;\r\n        this.selectedID = startID;\r\n        this._render();\r\n        this._setup();\r\n        this.valueRef = document.querySelector(`${selector} [data-type=\"value\"]`);\r\n    }\r\n\r\n    _setup() {\r\n        this.handlerEvent = this.handlerEvent.bind(this);\r\n        this.selectRef.addEventListener('click', this.handlerEvent)\r\n    }\r\n\r\n    handlerEvent(event) {\r\n        const { type } = event.target.dataset;\r\n        if (type === \"input\") {\r\n            this.toggle()\r\n        }\r\n        if (type === \"item\") {\r\n            const id = event.target.dataset.id;\r\n            this.select(id);\r\n        }\r\n        if (type === \"backdrop\") {\r\n\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.selectRef.classList.contains(\"open\")\r\n    }\r\n\r\n    get currentItem() {\r\n        return this.options.data.find(item => item.id === this.selectedID)\r\n    }\r\n\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open();\r\n    }\r\n\r\n    _render() {\r\n        const { placeholder, data, startID } = this.options\r\n        this.selectRef.classList.add(\"select\")\r\n        this.selectRef.innerHTML = template(data, placeholder, startID);\r\n    }\r\n\r\n    open() {\r\n        this.selectRef.classList.add('open');\r\n    }\r\n\r\n    close() {\r\n        this.selectRef.classList.remove('open')\r\n    }\r\n\r\n    delete() {\r\n        this.selectRef.removeEventListener('click', this.handlerEvent)\r\n        this.selectRef.innerHTML = \" \"\r\n    }\r\n\r\n    select(id) {\r\n        this.selectedID = id;\r\n        let selectItem = this.currentItem;\r\n        this.valueRef.textContent = selectItem.value;\r\n        const elRef = this.selectRef.querySelector(`.selected`);\r\n        if (elRef !== null) {\r\n            elRef.classList.remove(\"selected\");\r\n        }\r\n        const selectItemRef = this.selectRef.querySelector(`[data-id=\"${id}\"]`);\r\n        selectItemRef.classList.add('selected');\r\n        this.close();\r\n    }\r\n\r\n}","import './scss/main.scss';\r\nimport { Select } from './select/select.js'\r\n\r\nconst data = [\r\n    { id: '0', value: 'react' },\r\n    { id: '1', value: 'node' },\r\n    { id: '2', value: 'javascript' },\r\n    { id: '3', value: 'css' },\r\n    { id: '4', value: 'scss' },\r\n    { id: '5', value: 'html' },\r\n    { id: '6', value: 'json' },\r\n    { id: '7', value: 'npm' },\r\n    { id: '8', value: 'ajax' },\r\n]\r\nconst select = new Select('#select-plugin', {\r\n    placeholder: 'выбери значение',\r\n    data: data,\r\n    startID: '3'\r\n});\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}